# AgenDAV Modern - Environment Configuration
# Copy this file to .env and customize for your setup
#
# IMPORTANT: Generate secure random keys for ENCRYPTION_KEY and CSRF_SECRET
# Example: openssl rand -base64 32 | tr -dc 'a-zA-Z0-9' | head -c 32

# =============================================================================
# REQUIRED SETTINGS
# =============================================================================

# Database connection
AGENDAV_DB_HOST=db
AGENDAV_DB_PORT=3306
AGENDAV_DB_NAME=agendav
AGENDAV_DB_USER=agendav
AGENDAV_DB_PASSWORD=changeme

# CalDAV server URL
# Use %u as placeholder for username (replaced at login)
# Examples:
#   Radicale: http://radicale:5232/%u
#   Baikal:   http://baikal/dav.php/calendars/%u
#   Nextcloud: https://nextcloud.example.com/remote.php/dav/calendars/%u
AGENDAV_CALDAV_BASEURL=http://host.docker.internal:5232/%u

# Security keys (MUST be changed in production!)
# Generate with: openssl rand -base64 32 | tr -dc 'a-zA-Z0-9' | head -c 32
AGENDAV_ENCRYPTION_KEY=CHANGE_THIS_32_CHARACTER_KEY!!!
AGENDAV_CSRF_SECRET=CHANGE_THIS_TO_ANOTHER_KEY!!!!!

# =============================================================================
# SITE SETTINGS
# =============================================================================

# Site branding
AGENDAV_SITE_TITLE=Calendar
AGENDAV_SITE_FOOTER=AgenDAV Modern
# Logo file (must exist in web/public/img/). Default: agendav-modern-logo.png
#AGENDAV_SITE_LOGO=agendav-modern-logo.png

# Server name (for Apache ServerName directive)
# Set this if not using a reverse proxy, or for proper URL generation
# Example: calendar.example.com
AGENDAV_SERVER_NAME=

# =============================================================================
# CALDAV SETTINGS
# =============================================================================

# Authentication method: basic or digest
AGENDAV_CALDAV_AUTHMETHOD=basic

# Public CalDAV URL (shown to users for external calendar subscriptions)
# Leave empty to hide public URLs
AGENDAV_CALDAV_BASEURL_PUBLIC=

# Show public CalDAV URLs to users (true/false)
AGENDAV_CALDAV_PUBLIC_URLS=true

# SSL certificate verification for CalDAV server (true/false)
# Set to false only for self-signed certificates in trusted networks
AGENDAV_CALDAV_VERIFY_CERT=true

# Connection timeouts (0 = no timeout)
AGENDAV_CALDAV_CONNECT_TIMEOUT=0
AGENDAV_CALDAV_RESPONSE_TIMEOUT=0

# Enable calendar sharing (true/false)
AGENDAV_CALENDAR_SHARING=false

# =============================================================================
# LOCALE & DISPLAY SETTINGS
# =============================================================================

# Timezone (PHP timezone format)
# See: https://www.php.net/manual/en/timezones.php
AGENDAV_TIMEZONE=Europe/Oslo

# Language code
AGENDAV_LANGUAGE=en

# Time format: 12 or 24
AGENDAV_TIME_FORMAT=24

# Date format: ymd, dmy, or mdy
AGENDAV_DATE_FORMAT=ymd

# First day of week: 0 (Sunday) or 1 (Monday)
AGENDAV_WEEKSTART=1

# Show week numbers (true/false)
AGENDAV_SHOW_WEEK_NB=false

# Show "now" indicator line (true/false)
AGENDAV_SHOW_NOW_INDICATOR=true

# Default calendar view: month, week, day, or list
AGENDAV_DEFAULT_VIEW=month

# Number of days in list view: 7, 14, or 31
AGENDAV_LIST_DAYS=7

# =============================================================================
# SESSION & SECURITY
# =============================================================================

# Session lifetime in seconds (0 = until browser closes)
AGENDAV_SESSION_LIFETIME=0

# Session max lifetime in seconds
AGENDAV_SESSION_MAXLIFETIME=1200

# Trusted proxy IPs (comma-separated)
# Required if behind a reverse proxy for proper IP detection
AGENDAV_PROXIES=

# Logout redirect URL (leave empty for default)
AGENDAV_LOGOUT_REDIRECT=

# =============================================================================
# LOGGING & DEBUG
# =============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR
AGENDAV_LOG_LEVEL=INFO

# Log path (inside container)
AGENDAV_LOG_PATH=/var/www/html/web/var/log/

# Environment: prod or dev
AGENDAV_ENVIRONMENT=prod

# =============================================================================
# DATABASE (for docker-compose db service)
# =============================================================================

# Root password for MariaDB (only used by db service)
MYSQL_ROOT_PASSWORD=rootpassword

# Run database migrations on startup (true/false)
AGENDAV_RUN_MIGRATIONS=true
